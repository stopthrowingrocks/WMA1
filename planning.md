The following are potentially overlapping and incomplete. I need to manage:
- [x] Game state. The structure of the map, including if entities are on top of other entities. The types and locations and adjacencies of entities. Player entities. Being able to add and remove entities.
  - Can we split entities into floor tiles and movable tiles? Would we ever want to move a floor tile onto another one? No. Maybe we can combine two movement tiles but there will also never be two movement tiles on a square. Maybe tiles can carry things? The only way to represent that is a new tile. Therefore, we can split entities into floor tiles and movement tiles. However, what if floor tiles can be moved? I can definitely see that. Yes. So there is the ground like `.`, then there are floor tiles like `~`, and finally active tiles like `0`.
  - Game state should store both a set of tiles: floor, active, and player. It should also store map arrays. We do not need to worry about the storage costs of these arrays right now. They will have static size according to the level layout. This will (likely) not be a game that involves changing the actual tileset of the level.
- [ ] The Game Event Loop. The Game is either updating or waiting. When the game is waiting, if the player makes a key press then the game needs to update. An update changes the game state. An update takes a fixed amount of time and can trigger another update. This continues until no further updates are required, at which point the player can enter another key press. The player needs to be able to make certain interventions like restarting the level at any time.
- [ ] Update mechanics. Behavior for the interactions of different kinds of objects. Player entities need to be able to move at will, rocks need to be able to be pushed. Goals need to be able to destroy what gets pushed into them, etc.
- [ ] Rendering. Ideally, this would be separated from the actual mechanics of what's going on. The old code uses a "dirty" store to keep track of what has changed in the game state. The update process needs to do this too to check if anything has changed and an update is required.
- [ ] Level management. What level are we on? What levels have been unlocked?
- [ ] DOM interactions. Actually interfacing with the browser events and html elements and whatnot.

In the future, I would also like to add the ability to select, of the levels you've unlocked, which level you want to play. Maybe a "pause" menu as well? Also, the ability to undo moves. (Does this happen instantly or does it play update cascades in reverse?) I also may want to add more levels and therefore more kinds of entities. (What properties might they have?) Maybe if you run into something, it flashes red? That may help a bit at the start, who knows. Also I want to be able to add animations to things and tweak the UI like how to deal with keypresses.
